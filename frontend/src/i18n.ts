export type Language = 'ja' | 'en';

export const MESSAGES: Record<Language, Record<string, string>> = {
    ja: {
        'title.app': 'ブログ4コマ',
        'title.blog': 'ブログ4コマメーカー',
        'title.movie': '動画4コマメーカー',
        'title.pricing': '料金プラン',
        'title.howto': '使い方',
        'title.subscriptionSuccess': 'サブスクリプション完了',

        'nav.blog': 'ブログ4コマ',
        'nav.movie': '動画4コマ',
        'nav.pricing': '料金プラン',
        'nav.howto': '使い方',
        'nav.language': '言語',
        'nav.language.ja': '日本語',
        'nav.language.en': 'English',

        'auth.login': 'ログイン',
        'auth.logout': 'ログアウト',
        'auth.managePlan': 'プラン管理',

        'blog.hero.title': 'ブログ4コマメーカー',
        'blog.hero.subtitle': '記事URLを貼るだけで、ブログ記事を4コマ漫画に自動変換',
        'blog.hero.note': '※現在はNote,Qiita,Zennに対応しております',
        'blog.loading': '4コマ漫画を生成中...',

        'movie.hero.title': '動画4コマメーカー',
        'movie.hero.subtitle': 'YouTube動画URLを貼るだけで、動画内容を4コマ漫画に自動変換',
        'movie.hero.note': '※YouTubeの動画に対応しております',
        'movie.loading': '動画を解析して4コマ漫画を生成中...',

        'form.blog.title': '4コマ漫画を生成',
        'form.blog.subtitle': 'ブログ記事を面白い4コマ漫画に変換します',
        'form.movie.title': '動画から4コマ漫画を生成',
        'form.movie.subtitle': 'YouTube動画の内容を面白い4コマ漫画に変換します',
        'form.articleUrl': '記事URL',
        'form.youtubeUrl': 'YouTube URL',
        'form.userPrompt': '補足指示',
        'form.userPrompt.placeholder': '例: ほのぼのした雰囲気で、猫のキャラクターを使ってください',
        'form.optional': '（任意）',
        'form.generating': '生成中...',
        'form.generate': '4コマを生成する',
        'form.modelSettings': 'モデル設定',

        'mode.demo.description': 'キー不要（回数制限あり・透かしあり）',
        'mode.lite.description': '月30回まで（透かしなし）',
        'mode.pro.description': '月100回まで（透かしなし・優先）',
        'mode.byok.description': 'あなたのAPIキーで実行（キーは保存しません）',

        'result.title': '生成結果',
        'result.regenerate': 'もう一度生成する',
        'result.processing': '処理中...',
        'result.alt': '4コマ漫画',
        'result.demoNotice': 'これはデモ出力です。透かしなしの画像は、BYOKモードでAPIキーを入力してご利用ください。',
        'result.showStoryboard': '絵コンテ情報を表示',
        'result.panel': 'コマ',

        'error.title': 'エラーが発生しました',
        'error.retry': 'もう一度試す',

        'demo.exceeded.default': '本日のデモ回数に達しました。',
        'demo.switchToByok': 'BYOKで続ける →',
        'demo.remaining': '本日のデモ残り：',
        'demo.remaining.suffix': '回',
        'demo.watermarkNotice': 'Demo出力には透かしが入ります（BYOKで透かし無し）',

        'apiKey.title': 'Gemini APIキーを入力',
        'apiKey.close': '閉じる',
        'apiKey.notice': 'APIキーは保存しません（リクエスト時にのみ使用します）',
        'apiKey.start': '生成を開始',
        'apiKey.howto': 'APIキーの取得方法 →',

        'modelSettings.title': 'モデル設定',
        'modelSettings.storyboard': '絵コンテ生成モデル',
        'modelSettings.image': '画像生成モデル',
        'modelSettings.reset': 'デフォルトに戻す',
        'modelSettings.done': '完了',

        'pricing.subtitle': 'あなたのニーズに合ったプランを選んでください',
        'pricing.loading': '読み込み中...',
        'pricing.precheckout.title': '購入前の確認',
        'pricing.precheckout.note': 'Lite/Pro はサブスクリプション（月額・自動更新）です。解約やプラン変更は Stripe のポータルから行えます。返金は原則として受け付けていません（不正利用や重複課金などは個別に確認します）。',
        'pricing.precheckout.consent': '上記（自動更新・解約方法・返金ポリシー）を確認し、購入手続きを進めます（同意記録: v{version}）。',
        'pricing.faq.title': 'よくある質問',
        'pricing.faq.q1': 'いつでも解約できますか？',
        'pricing.faq.a1': 'はい。Stripe のプラン管理ページ（ポータル）からいつでも解約できます。解約の反映タイミングはポータルに表示される内容（次回更新で停止/即時停止など）に従います。',
        'pricing.faq.q2': 'プランの変更はできますか？',
        'pricing.faq.a2': 'はい。Stripe のポータルから変更できます。反映タイミング（即時/次回更新）や日割りの有無は Stripe 側の表示に従います。',
        'pricing.faq.q3': '回数はどのようにカウントされますか？',
        'pricing.faq.a3': 'ブログ4コマと動画4コマの合計で月間回数がカウントされます。',
        'pricing.error.consentRequired': '購入前に「自動更新・解約方法・返金ポリシー」の確認に同意してください。',
        'pricing.error.checkoutFailed': 'チェックアウトに失敗しました',
        'pricing.error.generic': 'エラーが発生しました',
        'pricing.card.popularBadge': 'おすすめ',
        'pricing.card.currentBadge': '現在のプラン',
        'pricing.card.button.current': '現在のプラン',
        'pricing.card.button.select': '選択する',
        'pricing.period.free': '無料',
        'pricing.period.month': '月',
        'pricing.plan.free.feature.blog': 'ブログ4コマ: 5回/日',
        'pricing.plan.free.feature.movie': '動画4コマ: 3回/日',
        'pricing.plan.free.feature.watermark': 'デモ透かし付き',
        'pricing.plan.lite.feature.limit': '月30回まで生成',
        'pricing.plan.lite.feature.common': 'ブログ・動画共通',
        'pricing.plan.lite.feature.nowatermark': '透かしなし',
        'pricing.plan.lite.feature.support': 'メールサポート',
        'pricing.plan.pro.feature.limit': '月100回まで生成',
        'pricing.plan.pro.feature.common': 'ブログ・動画共通',
        'pricing.plan.pro.feature.nowatermark': '透かしなし',
        'pricing.plan.pro.feature.priority': '優先サポート',
        'pricing.plan.pro.feature.early': '新機能早期アクセス',

        'howto.hero.subtitle': 'URLを貼るだけで、ブログ記事や動画を4コマ漫画に変換できます',
        'howto.section.menu.title': 'まずはメニューを確認',
        'howto.section.menu.step.title': 'メニューから機能を選ぶ',
        'howto.section.menu.step.desc': '上部メニューから「ブログ4コマ」「動画4コマ」「料金プラン」「使い方」へ移動できます。',
        'howto.section.menu.step.alt': '上部メニューが表示されたトップ画面',
        'howto.section.login.title': 'ログイン（必要な場合）',
        'howto.section.login.step.title': 'ログイン状態を確認',
        'howto.section.login.step.desc': '右上のログインボタン、またはプラン表示からログイン状態を確認できます。',
        'howto.section.login.step.alt': 'ログイン状態が表示された画面',
        'howto.section.blog.title': 'ブログ4コマの作り方',
        'howto.section.blog.step1.title': '1. 記事URLを入力',
        'howto.section.blog.step1.desc': '対象の記事URLを貼り付けて、生成を開始します。',
        'howto.section.blog.step1.alt': 'ブログ4コマのURL入力フォーム',
        'howto.section.blog.step2.title': '2. 生成中はしばらく待つ',
        'howto.section.blog.step2.desc': '記事内容を解析して、4コマ漫画を生成します。',
        'howto.section.blog.step2.alt': 'ブログ4コマの生成中画面',
        'howto.section.blog.step3.title': '3. 結果を確認・保存',
        'howto.section.blog.step3.desc': '生成された4コマを確認し、必要に応じて保存します。',
        'howto.section.blog.step3.alt': 'ブログ4コマの生成結果画面',
        'howto.section.movie.title': '動画4コマの作り方',
        'howto.section.movie.step1.title': '1. YouTube動画URLを入力',
        'howto.section.movie.step1.desc': 'YouTubeのURLを貼り付けて、生成を開始します。',
        'howto.section.movie.step1.alt': '動画4コマのURL入力フォーム',
        'howto.section.movie.step2.title': '2. 生成中はしばらく待つ',
        'howto.section.movie.step2.desc': '動画内容を解析して、4コマ漫画を生成します。',
        'howto.section.movie.step2.alt': '動画4コマの生成中画面',
        'howto.section.movie.step3.title': '3. 結果を確認',
        'howto.section.movie.step3.desc': '生成された4コマを確認し、必要に応じて保存します。',
        'howto.section.movie.step3.alt': '動画4コマの生成結果画面',
        'howto.section.pricing.title': '料金プラン',
        'howto.section.pricing.step.title': 'プランを選択してアップグレード',
        'howto.section.pricing.step.desc': 'Lite/Pro を選ぶとチェックアウトに進みます。必要に応じてプラン管理（Stripeポータル）から変更・解約できます。',
        'howto.section.pricing.step.alt': '料金プラン画面',
        'howto.cta.blog': 'ブログ4コマを試す',
        'howto.cta.movie': '動画4コマを試す',
        'howto.cta.pricing': '料金プランを見る',
    },
    en: {
        'title.app': 'Blog 4-Koma',
        'title.blog': 'Blog 4-Koma Maker',
        'title.movie': 'Video 4-Koma Maker',
        'title.pricing': 'Pricing',
        'title.howto': 'How to',
        'title.subscriptionSuccess': 'Subscription complete',

        'nav.blog': 'Blog 4-Koma',
        'nav.movie': 'Video 4-Koma',
        'nav.pricing': 'Pricing',
        'nav.howto': 'How to',
        'nav.language': 'Language',
        'nav.language.ja': '日本語',
        'nav.language.en': 'English',

        'auth.login': 'Log in',
        'auth.logout': 'Log out',
        'auth.managePlan': 'Manage plan',

        'blog.hero.title': 'Blog 4-Koma Maker',
        'blog.hero.subtitle': 'Paste an article URL to turn it into a 4-panel comic',
        'blog.hero.note': 'Currently supported: Note, Qiita, Zenn',
        'blog.loading': 'Generating your 4-panel comic...',

        'movie.hero.title': 'Video 4-Koma Maker',
        'movie.hero.subtitle': 'Paste a YouTube URL to turn it into a 4-panel comic',
        'movie.hero.note': 'Supported: YouTube videos',
        'movie.loading': 'Analyzing the video and generating a 4-panel comic...',

        'form.blog.title': 'Generate a 4-panel comic',
        'form.blog.subtitle': 'Turn a blog post into a fun 4-panel comic',
        'form.movie.title': 'Generate from a video',
        'form.movie.subtitle': 'Turn a YouTube video into a fun 4-panel comic',
        'form.articleUrl': 'Article URL',
        'form.youtubeUrl': 'YouTube URL',
        'form.userPrompt': 'Additional instructions',
        'form.userPrompt.placeholder': 'e.g., Use a cozy tone and a cat character.',
        'form.optional': '(optional)',
        'form.generating': 'Generating...',
        'form.generate': 'Generate 4-panel comic',
        'form.modelSettings': 'Model settings',

        'mode.demo.description': 'No key needed (limited, watermarked)',
        'mode.lite.description': 'Up to 30/month (no watermark)',
        'mode.pro.description': 'Up to 100/month (no watermark, priority)',
        'mode.byok.description': 'Use your own API key (not stored)',

        'result.title': 'Result',
        'result.regenerate': 'Generate again',
        'result.processing': 'Processing...',
        'result.alt': '4-panel comic',
        'result.demoNotice': 'This is a demo output. For a watermark-free image, use BYOK mode and provide your API key.',
        'result.showStoryboard': 'Show storyboard details',
        'result.panel': 'Panel',

        'error.title': 'Something went wrong',
        'error.retry': 'Try again',

        'demo.exceeded.default': "You've reached today's demo limit.",
        'demo.switchToByok': 'Continue with BYOK →',
        'demo.remaining': 'Demo remaining today: ',
        'demo.remaining.suffix': ' times',
        'demo.watermarkNotice': 'Demo output includes a watermark (no watermark with BYOK).',

        'apiKey.title': 'Enter your Gemini API key',
        'apiKey.close': 'Close',
        'apiKey.notice': 'We do not store your API key (used only for the request).',
        'apiKey.start': 'Start generating',
        'apiKey.howto': 'How to get an API key →',

        'modelSettings.title': 'Model settings',
        'modelSettings.storyboard': 'Storyboard model',
        'modelSettings.image': 'Image model',
        'modelSettings.reset': 'Reset to defaults',
        'modelSettings.done': 'Done',

        'pricing.subtitle': 'Choose a plan that fits your needs',
        'pricing.loading': 'Loading...',
        'pricing.precheckout.title': 'Before you purchase',
        'pricing.precheckout.note': 'Lite/Pro are subscriptions (monthly, auto-renewing). You can cancel or change plans via the Stripe customer portal. Refunds are generally not available (exceptions may be reviewed case by case).',
        'pricing.precheckout.consent': 'I have reviewed the above (auto-renewal, cancellation, refund policy) and want to proceed (consent record: v{version}).',
        'pricing.faq.title': 'FAQ',
        'pricing.faq.q1': 'Can I cancel anytime?',
        'pricing.faq.a1': 'Yes. You can cancel anytime from the Stripe plan management page (customer portal). The effective timing follows what Stripe shows (end of billing period, immediate cancellation, etc.).',
        'pricing.faq.q2': 'Can I change my plan?',
        'pricing.faq.a2': 'Yes. You can change plans from the Stripe customer portal. Timing (immediate/next renewal) and proration follow Stripe’s display.',
        'pricing.faq.q3': 'How is usage counted?',
        'pricing.faq.a3': 'Monthly usage is counted as the combined total of Blog 4-Koma and Video 4-Koma generations.',
        'pricing.error.consentRequired': 'Please agree to the auto-renewal / cancellation / refund policy before purchasing.',
        'pricing.error.checkoutFailed': 'Checkout failed',
        'pricing.error.generic': 'An error occurred',
        'pricing.card.popularBadge': 'Popular',
        'pricing.card.currentBadge': 'Current plan',
        'pricing.card.button.current': 'Current plan',
        'pricing.card.button.select': 'Select',
        'pricing.period.free': 'free',
        'pricing.period.month': 'month',
        'pricing.plan.free.feature.blog': 'Blog 4-Koma: 5/day',
        'pricing.plan.free.feature.movie': 'Video 4-Koma: 3/day',
        'pricing.plan.free.feature.watermark': 'Watermarked demo',
        'pricing.plan.lite.feature.limit': 'Up to 30/month',
        'pricing.plan.lite.feature.common': 'Blog + Video included',
        'pricing.plan.lite.feature.nowatermark': 'No watermark',
        'pricing.plan.lite.feature.support': 'Email support',
        'pricing.plan.pro.feature.limit': 'Up to 100/month',
        'pricing.plan.pro.feature.common': 'Blog + Video included',
        'pricing.plan.pro.feature.nowatermark': 'No watermark',
        'pricing.plan.pro.feature.priority': 'Priority support',
        'pricing.plan.pro.feature.early': 'Early access to new features',

        'howto.hero.subtitle': 'Paste a URL to turn a blog post or video into a 4-panel comic',
        'howto.section.menu.title': 'Start with the menu',
        'howto.section.menu.step.title': 'Pick a feature from the menu',
        'howto.section.menu.step.desc': 'Use the top menu to navigate to Blog 4-Koma, Video 4-Koma, Pricing, and How to.',
        'howto.section.menu.step.alt': 'Top page showing the navigation menu',
        'howto.section.login.title': 'Log in (if needed)',
        'howto.section.login.step.title': 'Check your login status',
        'howto.section.login.step.desc': 'Use the top-right login button, or check the plan badge to confirm your status.',
        'howto.section.login.step.alt': 'Screen showing login status',
        'howto.section.blog.title': 'How to make a Blog 4-Koma',
        'howto.section.blog.step1.title': '1. Enter the article URL',
        'howto.section.blog.step1.desc': 'Paste the target article URL and start generating.',
        'howto.section.blog.step1.alt': 'Blog 4-Koma URL input form',
        'howto.section.blog.step2.title': '2. Wait while it generates',
        'howto.section.blog.step2.desc': 'We analyze the article and generate a 4-panel comic.',
        'howto.section.blog.step2.alt': 'Blog 4-Koma generating screen',
        'howto.section.blog.step3.title': '3. Review and save',
        'howto.section.blog.step3.desc': 'Review the generated comic and save it if needed.',
        'howto.section.blog.step3.alt': 'Blog 4-Koma result screen',
        'howto.section.movie.title': 'How to make a Video 4-Koma',
        'howto.section.movie.step1.title': '1. Enter the YouTube URL',
        'howto.section.movie.step1.desc': 'Paste the YouTube URL and start generating.',
        'howto.section.movie.step1.alt': 'Video 4-Koma URL input form',
        'howto.section.movie.step2.title': '2. Wait while it generates',
        'howto.section.movie.step2.desc': 'We analyze the video and generate a 4-panel comic.',
        'howto.section.movie.step2.alt': 'Video 4-Koma generating screen',
        'howto.section.movie.step3.title': '3. Review the result',
        'howto.section.movie.step3.desc': 'Review the generated comic and save it if needed.',
        'howto.section.movie.step3.alt': 'Video 4-Koma result screen',
        'howto.section.pricing.title': 'Pricing',
        'howto.section.pricing.step.title': 'Choose a plan and upgrade',
        'howto.section.pricing.step.desc': 'Select Lite/Pro to proceed to checkout. You can change or cancel from the plan management page (Stripe portal) if needed.',
        'howto.section.pricing.step.alt': 'Pricing page screen',
        'howto.cta.blog': 'Try Blog 4-Koma',
        'howto.cta.movie': 'Try Video 4-Koma',
        'howto.cta.pricing': 'View pricing',
    },
};

export function t(language: Language, key: string): string {
    return MESSAGES[language]?.[key] ?? MESSAGES.ja[key] ?? key;
}

export function getMissingKeys(language: Language): string[] {
    const otherLanguage: Language = language === 'ja' ? 'en' : 'ja';
    const baseKeys = Object.keys(MESSAGES[otherLanguage]);
    const targetKeys = new Set(Object.keys(MESSAGES[language]));
    return baseKeys.filter((k) => !targetKeys.has(k)).sort();
}
